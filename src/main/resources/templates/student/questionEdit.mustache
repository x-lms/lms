<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>질문 수정</title>
    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="/css/layout.css">
    <link rel="stylesheet" href="/css/questionWrite.css">
</head>
<body>
{{> layouts/header }}

<div class="container">
    {{> layouts/navStudent }}

    <div class="main-content">
        <h2 class="page-title">질문 수정</h2>

        {{#question}}
        <div class="question-box">
            <!-- 강의명 표시 -->
            <div class="course-name">
                강의: {{courseName}}
            </div>

            <!-- 질문 수정 폼 -->
            <form method="post" action="/student/questionEdit/{{questionNo}}" enctype="multipart/form-data">
                <input type="hidden" name="questionNo" value="{{questionNo}}">

                <div class="form-group">
                    <label for="questionTitle">제목</label>
                    <input type="text" id="questionTitle" name="questionTitle" placeholder="제목을 입력하세요"
                           value="{{questionTitle}}" required>
                </div>

                <div class="form-group">
                    <label for="questionContents">내용</label>
                    <textarea id="questionContents" name="questionContents" rows="8" placeholder="내용을 입력하세요" required>{{questionContents}}</textarea>
                </div>

                {{#answerContents}}
                <!-- 이미 교수 답변이 있는 경우에는 수정 불가 -->
                <div class="form-group">
                    <label>교수 답변:</label>
                    <div class="answer-contents">{{answerContents}}</div>
                </div>
                {{/answerContents}}

                <div class="form-actions">
                    <button type="submit" class="submit-btn">수정 완료</button>

                    <!-- 삭제 버튼 -->
                    <form method="post" action="/student/questionDelete/{{questionNo}}" style="display:inline;" onsubmit="return confirm('정말 삭제하시겠습니까?');">
                        <button type="submit" class="delete-btn">삭제</button>
                    </form>

                    <a href="/student/questionList" class="back-btn">목록으로 돌아가기</a>
                </div>
            </form>
        </div>
        {{/question}}

        {{^question}}
        <div class="error-message">
            <p>질문 정보를 불러올 수 없습니다.</p>
        </div>
        {{/question}}

    </div>
</div>

{{> layouts/footer }}
</body>
</html>
