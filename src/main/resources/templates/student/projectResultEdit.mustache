<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>과제 수정</title>
    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="/css/layout.css">
    <link rel="stylesheet" href="/css/studentProjectResultEdit.css">
</head>
<body>

{{> layouts/header }}

<div class="container">
    {{> layouts/navStudent }}

    <div class="main-content">

        {{#error}}
        <div class="alert-danger">{{error}}</div>
        {{/error}}

        <h2>{{project.projectName}} - 과제 수정</h2>

        <form method="post" action="/student/assignment/edit/{{submitted.resultNo}}" enctype="multipart/form-data">

            <div class="form-group">
                <label>제목</label>
                <input type="text" name="resultTitle" value="{{submitted.resultTitle}}" required>
            </div>

            <div class="form-group">
                <label>기존 파일</label><br>
                {{#submitted.resultFile}}
                    <a href="/download/{{submitted.resultFile}}">{{submitted.resultFile}}</a>
                {{/submitted.resultFile}}
            </div>

            <div class="form-group">
                <label>새 파일 업로드</label>
                <input type="file" name="submissionFile">
                <p style="color:red;">※ 새 파일 선택 시 기존 파일은 덮어씌워집니다.</p>
            </div>

            <div class="form-group">
                <label>내용</label>
                <textarea name="resultContents" required>{{submitted.resultContents}}</textarea>
            </div>

            <div class="form-actions">
                <button type="submit" class="submit-btn">수정 완료</button>
                <a href="/student/assignment/{{project.projectNo}}" class="cancel-btn">취소</a>
            </div>

        </form>

    </div>
</div>

{{> layouts/footer }}

</body>
</html>
